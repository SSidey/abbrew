{{!-- TODO: Add toggle for dragging skills --}}
<div>
  {{#unless (empty equippedWeapons)}}
  {{> "systems/abbrew/templates/actor/parts/actor-weapon-attacks.hbs" weaponsList=equippedWeapons
  showAttackProfiles=true showEquipState=false showItemControls=false}}
  {{/unless}}
  {{#unless (empty favouriteSkills)}}
  <div class='item flexrow items-header favourites-header' data-skill-section="favourites">
    <div class='item-name'>Favourites</div>
  </div>
  <ol class='skill-container' style="display: {{getProperty allSkillSections 'favourites'}}"
    data-skill-section="favourites">
    {{#each favouriteSkills as |item id|}}
    {{> "systems/abbrew/templates/actor/parts/actor-skill-card.hbs" item=item}}
    {{/each}}
  </ol>
  {{/unless}}
  {{#unless (empty activeSkills)}}
  <div class='item flexrow items-header active-header' data-skill-section="active">
    <div class='item-name'>Active</div>
  </div>
  <ol class='skill-container' style="display: {{getProperty allSkillSections 'active'}}" data-skill-section="active">
    {{#each activeSkills as |item id|}}
    {{> "systems/abbrew/templates/actor/parts/actor-skill-card.hbs" item=item}}
    {{/each}}
  </ol>
  {{/unless}}
  {{#unless (empty enhancements)}}
  <div class='item flexrow items-header enhancements-header' data-skill-section="enhancements">
    <div class='item-name'>Enhancements</div>
  </div>
  <ol class='skill-container' style="display: {{getProperty allSkillSections 'enhancements'}}"
    data-skill-section="enhancements">
    {{#each enhancements as |item id|}}
    {{> "systems/abbrew/templates/actor/parts/actor-skill-card.hbs" item=item}}
    {{/each}}
  </ol>
  {{/unless}}
  <div class='item flexrow items-header archetypes-header' data-skill-section="archetypes">
    <div class='item-name'>Archetypes</div>
  </div>
  <ol class="archetype-list" style="display: {{getProperty allSkillSections 'archetypes'}}"
    data-skill-section="archetypes">
    {{#each archetypes as |archetype id|}}
    <li class="archetype" data-id="{{id}}" data-item-id="{{archetype._id}}" data-source-id="{{archetype._sourceId}}">
      <div class="archetype-header">
        <div class="image-container"><img src="{{archetype.img}}" /></div>
        <div class="name"><span>{{archetype.name}}</span></div>
        <div class="archetype-paths">

        </div>
        <div class='item-controls'>
          <a class='item-control archetype-edit' title='{{localize "DOCUMENT.Edit" type=' archetype'}}'>
            <i class='fas fa-edit'></i>
          </a>
          <a class='item-control archetype-delete' title='{{localize "DOCUMENT.Delete" type=' archetype'}}'>
            <i class='fas fa-trash'></i>
          </a>
        </div>
      </div>
      <div class="archetype-skills">
        <ol class='skill-container'>
          {{#each (getPropertyById ../archetypeSkills archetype._id) as |item id|}}
          {{> "systems/abbrew/templates/actor/parts/actor-skill-card.hbs" item=item}}
          {{/each}}
        </ol>
      </div>
    </li>
    {{/each}}
    <li class="empty-drop-list-element">
      <span>+ Archetype</span>
    </li>
  </ol>
</div>
<ol class='items-list'>
  {{#each skillSections as |display skillType|}}
  <li>
    {{!-- TODO: Add count of cards, this would be pretty nice considering we can collapse the sections now --}}
    {{!-- TODO: Need to add paths section where each path has the block below to add skills --}}
    {{!-- TODO: Order the sections? basic probably wants to be closer to the top where background maybe are less
    important? --}}
  <li class='item flexrow items-header skill-header' data-skill-section="{{localize (skillType)}}">
    <div class='item-name'>{{localize (skillType)}}</div>
    <div class='item-controls'>
      <a class='item-control item-create' title='Create item' data-type='skill' data-skill-type={{skillType}}>
        <i class='fas fa-plus'></i>
        {{localize 'DOCUMENT.New' type='skill'}}
      </a>
    </div>
  </li>
  <ol class='skill-container' style="display: {{display}}" data-skill-section="{{localize (skillType)}}">
    {{#each (getProperty ../skills (localize (skillType))) as |item id|}}
    {{> "systems/abbrew/templates/actor/parts/actor-skill-card.hbs" item=item}}
    {{/each}}
  </ol>
  </li>
  {{/each}}
</ol>