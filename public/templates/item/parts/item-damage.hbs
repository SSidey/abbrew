<div class="weapon">
    <ol class="attack-profiles">
        {{#each system.attackProfiles as |attackProfile i|}}
        <li class="item attack-profile" data-id="{{i}}">
            <div class="attack-profile-detail">
                <h3 class="attack-profile-name">
                    <label>Name</label>
                    <input type="text" name="system.attackProfiles.{{i}}.name" value="{{attackProfile.name}}"
                        data-dtype="String" />
                </h3>
                <div class="attack-profile-detail-entries">
                    <div class="attack-profile-detail-entry">
                        <label>Attack Type</label>
                        <select name="system.attackProfiles.{{i}}.attackType">
                            {{selectOptions ../config.attackTypes selected=attackProfile.attackType blank=""
                            localize=true}}
                        </select>
                    </div>
                    <div class="attack-profile-detail-entry">
                        <label>Finisher Limit</label>
                        <input type="text" name="system.attackProfiles.{{i}}.finisherLimit"
                            value="{{attackProfile.finisherLimit}}" data-dtype="Number" />
                    </div>
                    <div class="attack-profile-detail-entry">
                        <span>Overpower</span>
                        <input type="checkbox" class="attackProfiles-hasStrongAttack"
                            name="system.attackProfiles.{{i}}.hasStrongAttack" {{ checked attackProfile.hasStrongAttack
                            }}>
                    </div>
                </div>
                <ol class="attack-profile-damage-list">
                    <li class="attack-profile-damage-header">
                        <label>{{ localize "ABBREW.Type" }}</label>
                        <label>{{ localize "ABBREW.Damage" }}</label>
                        <label>Attribute</label>
                    </li>
                    {{#each attackProfile.damage as |damage j|}}
                    <li class="item attack-profile-damage" data-id="{{j}}">
                        <div>
                            <select name="system.attackProfiles.{{i}}.damage.{{j}}.type">
                                {{selectOptions ../../config.damageTypes selected=damage.type blank="" localize=true}}
                            </select>
                        </div>
                        <div>
                            <input type="text" name="system.attackProfiles.{{i}}.damage.{{j}}.value"
                                value="{{damage.value}}" data-dtype="Number" />
                        </div>
                        <div>
                            <select name="system.attackProfiles.{{i}}.damage.{{j}}.attributeModifier">
                                {{selectOptions ../../config.attributes selected=damage.attributeModifier blank=""
                                localize=true}}
                            </select>
                        </div>
                        <a class="damage-control remove-damage" data-action="remove-damage">
                            <i class="fa-solid fa-minus"></i>
                        </a>
                    </li>
                    {{/each}}
                    <li class="damage add">
                        <div class="form-group">
                            <label>
                                <a class="damage-control" data-action="add-damage">
                                    Add Damage
                                    <i class="fa-solid fa-plus"></i>
                                </a>
                            </label>
                        </div>
                    </li>
                </ol>
            </div>
            <a class="attack-profile-control remove-attack-profile" data-action="remove-attack-profile">
                <i class="fa-solid fa-minus"></i>
            </a>
        </li>
        {{/each}}
        <li class="attack-profile add">
            <div class="form-group">
                <label>
                    <a class="attack-profile-control" data-action="add-attack-profile">
                        Add Attack Profile
                        <i class="fa-solid fa-plus"></i>
                    </a>
                </label>
            </div>
        </li>
    </ol>
</div>