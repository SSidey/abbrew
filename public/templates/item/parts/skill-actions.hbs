<label class="slide-toggle roboto-upper">
    <input type="checkbox" class="action-activatable" name="system.activatable" {{ checked system.activatable }}>
    <span>{{localize "ABBREW.Activatable"}}</span>
    {{#if system.activatable}}
    <i class="fa fa-toggle-on"></i>
    {{else}}
    <i class="fa fa-toggle-off"></i>
    {{/if}}
</label>
{{#if system.activatable}}
<ol class="form-list action-container">
    {{#each system.actions as |action i|}}
    <li class="item action" data-id="{{i}}">
        <div>
            <label>Action Cost</label>
            <input type="text" name="system.actions.{{i}}.requirements.actionCost"
                value="{{action.requirements.actionCost}}" data-dtype="String" />
        </div>
        <div>
            <label>Momentum</label>
            </br>
            <label class="slide-toggle roboto-upper">
                <input type="checkbox" class="momentum-requirement"
                    name="system.actions.{{i}}.requirements.momentum.hasRequirement" {{ checked
                    action.requirements.momentum.hasRequirement }}>
                <span>{{localize "ABBREW.HasRequirement"}}</span>
                {{#if action.requirements.momentum.hasRequirement}}
                <i class="fa fa-toggle-on"></i>
                {{else}}
                <i class="fa fa-toggle-off"></i>
                {{/if}}
            </label>
            {{#if action.requirements.momentum.hasRequirement}}
            <div>
                <label>Requirement</label>
                <input type="text" name="system.actions.{{i}}.requirements.momentum.requirement"
                    value="{{action.requirements.momentum.requirement}}" data-dtype="Number" />
            </div>
            {{/if}}
            <div>
                <label>Change</label>
                <input type="text" name="system.actions.{{i}}.requirements.momentum.change"
                    value="{{action.requirements.momentum.change}}" data-dtype="Number" />
            </div>
        </div>
        <label class="slide-toggle roboto-upper">
            <input type="checkbox" class="action-activatable" name="system.actions.{{i}}.requirements.weaponEquipped" {{
                checked action.requirements.weaponEquipped }}>
            <span>{{localize "ABBREW.EquippedWeapon"}}</span>
            {{#if action.requirements.weaponEquipped}}
            <i class="fa fa-toggle-on"></i>
            {{else}}
            <i class="fa fa-toggle-off"></i>
            {{/if}}
        </label>
        {{#if action.requirements.weaponEquipped}}
        <div>
            <label>Attack Type</label>
            <select name="system.actions.{{i}}.requirements.weapon.attackType">
                {{selectOptions ../config.attackTypes selected=action.requirements.weapon.attackType blank=""
                localize=true}}
            </select>
        </div>
        <div>
            <label>Damage Type</label>
            <select name="system.actions.{{i}}.requirements.weapon.damageType">
                {{selectOptions ../config.concepts selected=action.requirements.weapon.damageType blank=""
                localize=true}}
            </select>
        </div>
        <div>
            <label>Weapon Hands</label>
            <input type="text" name="system.actions.{{i}}.requirements.weapon.hands"
                value="{{action.requirements.weapon.hands}}" data-dtype="Number" />
        </div>
        <div>
            <label>Traits</label>
            <input type="text" name="system.actions.{{i}}.requirements.weapon.traits"
                value="{{action.requirements.weapon.traits}}" data-dtype="String" />
        </div>
        {{/if}}
        <div>
            <label>Free Hands</label>
            <input type="text" name="system.actions.{{i}}.requirements.freeHands"
                value="{{action.requirements.freeHands}}" data-dtype="Number" />
        </div>
        <div>
            <ol class="form-list">
                {{#each action.requirements.resources as |resource j|}}
                <li class="item resource grid-3col" data-id="{{j}}">
                    <div>
                        <label>Name</label>
                        <input type="text" name="system.actions.{{i}}.requirements.resources.{{j}}.name"
                            value="{{resource.name}}" data-dtype="String" />
                    </div>
                    <div>
                        <label>Value</label>
                        <input type="text" name="system.actions.{{i}}.requirements.resources.{{j}}.value"
                            value="{{resource.value}}" data-dtype="Number" />
                    </div>
                    <div>
                        <a class="skill-action-resource-control" data-action="remove-skill-action-resource-requirement">
                            <i class="fa-solid fa-minus"></i>
                        </a>
                    </div>
                </li>
                {{/each}}
                <li class="skillResourceRequirement add">
                    <div class="form-group">
                        <label>
                            <a class="skill-action-resource-control"
                                data-action="add-skill-action-resource-requirement">
                                Add Resource
                                <i class="fa-solid fa-plus"></i>
                            </a>
                        </label>
                    </div>
                </li>
            </ol>
        </div>
        <div>
            <a class="skill-action-control remove-skill-action" data-action="remove-skill-action">
                <i class="fa-solid fa-minus"></i>
            </a>
        </div>
    </li>
    {{/each}}
    <li class="skillAction add">
        <div class="form-group">
            <label>
                <a class="skill-action-control" data-action="add-skill-action">
                    Add Action
                    <i class="fa-solid fa-plus"></i>
                </a>
            </label>
        </div>
    </li>
</ol>
{{/if}}